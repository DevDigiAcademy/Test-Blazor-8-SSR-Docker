@rendermode InteractiveAuto

<Router OnNavigateAsync="Navigation" AppAssembly="@typeof(Program).Assembly">
    <Found Context="routeData">
        @{
            routeData.RouteValues.TryGetValue("Count", out var count);
        }
        <Counter Count=@((int?)count) />
    </Found>
</Router>

@code {
    [Parameter] public int? Count { get; set; }
    [Inject] NavigationManager NavigationManager { get; set; } = default!;

    private void Navigation(NavigationContext context)
    {
        if (!context.Path.StartsWith("counter", StringComparison.InvariantCultureIgnoreCase))
        {
            NavigationManager.NavigateTo(context.Path, true);
        }
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();

        Console.WriteLine("Using WASM router");
    }

    protected override void OnAfterRender(bool firstRender)
    {
        Console.WriteLine("Render in Router");
    }
}
